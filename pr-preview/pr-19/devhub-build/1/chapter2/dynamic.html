<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Dynamic Plugins :: Building Developer Portals with Red Hat Developer Hub</title>
    <link rel="prev" href="index.html">
    <link rel="next" href="topology.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">Building Developer Portals with Red Hat Developer Hub</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/devhub-build/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="devhub-build" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Building Developer Portals with Red Hat Developer Hub</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../chapter1/index.html">Software Templates</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/catalog.html">Software Catalog Deep Dive</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/templates.html">Software Templates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../chapter1/techdocs.html">TechDocs and Search</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">RHDH Plugins</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="dynamic.html">Dynamic Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="topology.html">Kubernetes and Topology Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="quay.html">Quay Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pipelines.html">Tekton Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="gitops.html">ArgoCD Plugin</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Building Developer Portals with Red Hat Developer Hub</span>
    <span class="version">1</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Building Developer Portals with Red Hat Developer Hub</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Building Developer Portals with Red Hat Developer Hub</a></li>
    <li><a href="index.html">RHDH Plugins</a></li>
    <li><a href="dynamic.html">Dynamic Plugins</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Dynamic Plugins</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This section briefly explains the rationale for dynamic plugins and how to enable or disable plugins in RHDH.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dynamic_plugins_in_rhdh"><a class="anchor" href="#_dynamic_plugins_in_rhdh"></a>Dynamic Plugins in RHDH</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As you already learnt in the first introductory course in the learning path, RHDH, as a platform consists of a small modular core and an extensive set of plugins that provide most of the functionality. In the upstream <strong>Backstage.io</strong> platform, enabling a plugin means modifying the platform&#8217;s source code to load a bunch of TypeScript/JavaScript, and other static files (HTML, CSS, images etc.). You then have to stop and restart the runtime to enable the plugin.</p>
</div>
<div class="paragraph">
<p>This approach of changing source code and restarting for enabling plugins will not work for RHDH, because you need to recompile the source code, build a new container image and then re-deploy the new container image.</p>
</div>
<div class="paragraph">
<p>RedHat has introduced the concept of a <strong>dynamic plugin</strong> to overcome this hurdle. A set of curated plugins are pre-baked into the container image, but not enabled by default. The dynamic plugin framework is based on the Node.js Scalprum library (<a href="https://github.com/scalprum/scaffolding" class="bare">https://github.com/scalprum/scaffolding</a>). To enable or disable a plugin, you edit the <strong>app-config.yaml</strong> or the RHDH Helm chart YAML values and turn plugins on or off. In this manner, RHDH allows you to control plugin lifecycle and configuration without recompiling or rebuilding container images.</p>
</div>
<div class="paragraph">
<p>RHDH is pre-loaded with a selection of dynamic plugins. Most of these dynamic plugins are disabled by default due to the need for mandatory configuration. For a complete list of dynamic plugins that are included, see the <a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.2/html-single/configuring_plugins_in_red_hat_developer_hub/index#rhdh-supported-plugins">dynamic plugins matrix</a> section in the <code>Administration guide for Red Hat Developer Hub</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Red Hat fully supports certain plugins (Topology, Tekton, Quay), while others are community-supported projects.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enablingdisabling_dynamic_plugins_in_rhdh"><a class="anchor" href="#_enablingdisabling_dynamic_plugins_in_rhdh"></a>Enabling/Disabling Dynamic Plugins in RHDH</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The dynamic plugin support is based on the <a href="https://github.com/backstage/backstage/tree/master/packages/backend-dynamic-feature-service">backend plugin manager</a> package, which is a service that scans a configured root directory (<code>dynamicPlugins.rootDirectory</code> in the <strong>app-config.yaml</strong>) for dynamic plugin packages, and loads them dynamically.</p>
</div>
<div class="sect2">
<h3 id="_helm_charts"><a class="anchor" href="#_helm_charts"></a>Helm Charts</h3>
<div class="paragraph">
<p>You can include a dynamic plugin in RHDH by appending an entry to the <code>global.dynamic.plugins</code> list in your Helm Chart.</p>
</div>
<div class="paragraph">
<p>In your Helm Chart <code>Form View</code>, you can add or remove plugins. Expand <code>Root Schema &gt; global &gt; Dynamic plugins configuration &gt; List of dynamic plugins that should be installed&#8230;&#8203;</code>, and then add the plugin path to the <code>Package specification of the dynamic plugin to install</code> field.</p>
</div>
<div class="paragraph">
<p>Consult the dynamic plugin matrix table in the administration guide for the path to the dynamic module and add the path to the list. You can enable or disable plugins from this view. For example, to enable the <code>GitHub Organization</code> plugin:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/enable-plugins-form-view.png" alt="enable plugins form view">
</div>
<div class="title">Figure 1. Enabling Plugins using Helm Chart Form View</div>
</div>
<div class="paragraph">
<p>If you prefer to edit the helm chart&#8217;s YAML directly, do the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - disabled: false <i class="conum" data-value="1"></i><b>(1)</b>
        package: &gt;- <i class="conum" data-value="2"></i><b>(2)</b>
          ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-org-dynamic
      - disabled: false <i class="conum" data-value="1"></i><b>(1)</b>
        package: &gt;- <i class="conum" data-value="2"></i><b>(2)</b>
          ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-dynamic</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enable or Disable the plugin. Set to <code>true</code> to disable the plugin</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The path to the dynamic plugin. Consult the <code>Administration Guide</code> (dynamic plugins matrix) for the full path</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Simply enabling a dynamic plugin in the helm chart may not provide the required functionality. You may need to edit your <strong>app-config.yaml</strong> files to add plugin-specific configuration (for example, set different environment variables) to make the plugin work correctly. Consult the corresponding plugin documentation for the required configuration.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_rhdh_operator"><a class="anchor" href="#_rhdh_operator"></a>RHDH Operator</h3>
<div class="paragraph">
<p>If you installed RHDH using the operator, enable or disable dynamic plugins in the <code>dynamic-plugins-rhdh-local</code> ConfigMap and restarting the RHDH pod. The YAML snippet shown for the helm chart based installation is also valid for the operator based installs. The plugin configuration in the <strong>app-config-rhdh</strong> ConfigMap remains the same.</p>
</div>
<div class="paragraph">
<p>If you wish to include a dynamic plugin that is not included in RHDH, or if you wish to develop your own custom plugins, consult the Janus IDP plugins repository at <a href="https://github.com/janus-idp/backstage-plugins" class="bare">https://github.com/janus-idp/backstage-plugins</a>.</p>
</div>
<div class="paragraph">
<p>A nice demonstration on how to create a custom plugin for RHDH is shown <a href="https://www.youtube.com/watch?v=yVzjTU3JamE" target="_blank" rel="noopener">here</a>. You can also host custom plugins in your own NPM registry and include them by following the steps at <a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.2/html-single/configuring_plugins_in_red_hat_developer_hub/index#ref-example-dynamic-plugin-helm-installations" target="_blank" rel="noopener">here</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.2/html-single/configuring_plugins_in_red_hat_developer_hub/index#rhdh-supported-plugins" target="_blank" rel="noopener">Plugins available in RHDH 1.2</a></p>
</li>
<li>
<p><a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.2/html-single/configuring_plugins_in_red_hat_developer_hub/index" target="_blank" rel="noopener">Configuring Dynamic Plugins in RHDH</a></p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="index.html">RHDH Plugins</a></span>
  <span class="next"><a href="topology.html">Kubernetes and Topology Plugin</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
